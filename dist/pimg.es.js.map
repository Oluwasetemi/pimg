{"version":3,"file":"pimg.es.js","sources":["../src/index.js"],"sourcesContent":["import React from 'react'\nimport 'whatwg-fetch'\n\nclass Image extends React.Component {\n\tstate = {\n\t\tloading: true,\n\t\tblob: null,\n\t\tthumb: null\n\t}\n\n\tcomponentDidMount() {\n\t\tlet thumb = this.props.src.replace('/upload/', '/upload/t_media_lib_thumb/')\n\n\t\tthis.setState({ thumb })\n\n\t\tfetch(this.props.src)\n\t\t\t.then(res => res.blob())\n\t\t\t.then(res => {\n\t\t\t\tlet blob = URL.createObjectURL(res)\n\t\t\t\tthis.setState({ blob, loading: false })\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\trender() {\n\t\tif (this.state.loading) {\n\t\t\treturn <img className=\"pimg pimg__loading\" src={this.state.thumb} />\n\t\t}\n\n\t\treturn <img className=\"pimg\" src={this.state.blob} />\n\t}\n}\n\nexport default Image\n"],"names":["Image","state","thumb","props","src","replace","setState","then","res","blob","URL","createObjectURL","loading","catch","console","log","err","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAGMA;;;;;;;;;;;;;;iLACLC,QAAQ;YACE,IADF;SAED,IAFC;UAGA;;;;;;sCAGY;;;OACfC,QAAQ,KAAKC,KAAL,CAAWC,GAAX,CAAeC,OAAf,CAAuB,UAAvB,EAAmC,4BAAnC,CAAZ;;QAEKC,QAAL,CAAc,EAAEJ,YAAF,EAAd;;SAEM,KAAKC,KAAL,CAAWC,GAAjB,EACEG,IADF,CACO;WAAOC,IAAIC,IAAJ,EAAP;IADP,EAEEF,IAFF,CAEO,eAAO;QACRE,OAAOC,IAAIC,eAAJ,CAAoBH,GAApB,CAAX;WACKF,QAAL,CAAc,EAAEG,UAAF,EAAQG,SAAS,KAAjB,EAAd;IAJF,EAMEC,KANF,CAMQ;WAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;IANR;;;;2BASQ;OACJ,KAAKf,KAAL,CAAWW,OAAf,EAAwB;WAChB,6BAAK,WAAU,oBAAf,EAAoC,KAAK,KAAKX,KAAL,CAAWC,KAApD,GAAP;;;UAGM,6BAAK,WAAU,MAAf,EAAsB,KAAK,KAAKD,KAAL,CAAWQ,IAAtC,GAAP;;;;EA1BkBQ,MAAMC;;;;"}